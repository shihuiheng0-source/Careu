<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4WheelCare4U | Mobile Healthcare Services</title>
    <style>
        /* 2026 Healthcare Design Trends: Clean, Calming, and Mobile-First */
        :root {
            --primary: #004a99; /* Professional Blue */
            --secondary: #28a745; /* Health Green */
            --accent: #ffc107; /* Hopeful Yellow */
            --bg-light: #f4f7f6;
            --text-dark: #333;
        }

        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; background: var(--bg-light); color: var(--text-dark); line-height: 1.6; }
        header { background: white; padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 1000; }
        /* Logo is text-based */
        .logo h1 { color: var(--primary); margin: 0; font-size: 1.5rem; } 
        .logo p { font-size: 0.8rem; font-style: italic; color: var(--secondary); margin: 0; }
        
        .hero { 
            /* Background is a solid color */
            background: var(--primary); 
            color: white; 
            padding: 100px 5%; 
            text-align: center; 
        }
        .hero h2 { font-size: 2.5rem; margin-bottom: 1rem; }
        .btn-book { background: var(--secondary); color: white; padding: 15px 30px; border-radius: 30px; text-decoration: none; font-weight: bold; transition: 0.3s; display: inline-block; border: none; cursor: pointer; }
        .btn-book:hover { background: #218838; transform: scale(1.05); }
        .btn-submit-booking { background: var(--secondary); color: white; padding: 10px 20px; border-radius: 8px; border: none; cursor: pointer; width: 100%; margin-top: 15px; }
        .btn-history { background: var(--primary); color: white; padding: 10px 20px; margin-top: 15px; border-radius: 8px; border: none; cursor: pointer; display: none; }


        .section { padding: 60px 5%; max-width: 1200px; margin: auto; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px; }
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); border-top: 5px solid var(--primary); }
        .card h3 { color: var(--primary); margin-top: 0; }

        .booking-form { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 700px; margin: auto; }
        .form-group { margin-bottom: 15px; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        
        #historySection { display: none; margin-top: 40px; }
        .history-item { background: var(--bg-light); padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 5px solid var(--secondary); }

        footer { background: #222; color: white; padding: 40px 5%; text-align: center; }
        .social-links a { color: white; margin: 0 10px; text-decoration: none; font-weight: bold; }

        @media (max-width: 768px) { .hero h2 { font-size: 1.8rem; } header { flex-direction: column; text-align: center; } }
    </style>
</head>
<body>

<!-- HEADER SECTION -->
<header>
    <div class="logo">
        <h1>4WheelCare4U</h1>
        <p>Invest Your Health, Invest Your Future</p>
    </div>
    <div class="contact-info">
        <strong>üìû <a href="tel:+6093456789" style="text-decoration:none; color:inherit;">+60 9-345 6789</a></strong>
    </div>
</header>

<!-- HERO SECTION -->
<section class="hero">
    <h2>Quality Healthcare Delivered to Your Doorstep</h2>
    <p>Mobile Clinic Services serving Kajang and surrounding semi-urban areas.</p><br>
    <a href="#book-now" class="btn-book">BOOK AN APPOINTMENT NOW</a>
</section>

<!-- SERVICES OVERVIEW SECTION -->
<section class="section">
    <h2 style="text-align:center;">Our Services</h2>
    <div class="grid">
        <div class="card">
            <h3>General Health</h3>
            <p>Check-ups, physical exams, and family care bundles starting from RM 80.</p>
        </div>
        <div class="card">
            <h3>Maternal & Postnatal</h3>
            <p>Specialized home visits for mothers and newborn jaundice screening.</p>
        </div>
        <div class="card">
            <h3>Diabetes Care</h3>
            <p>Insulin management, delivery, and chronic disease monitoring.</p>
        </div>
        <div class="card">
            <h3>Minor Procedures</h3>
            <p>Modern laser circumcision, stitch removal, and wound dressing.</p>
        </div>
    </div>
</section>

<!-- BOOKING FORM SECTION -->
<section id="book-now" class="section" style="background:#e9ecef;">
    <h2 style="text-align:center;">Appointment Booking</h2>
    <div class="booking-form">
        <form id="bookingFormLocal">
            <div class="form-group">
                <label>Patient Name:</label>
                <input type="text" id="pName" required placeholder="Full Name">
            </div>
            <div class="form-group">
                <label>Select Service:</label>
                <select id="pService" onchange="calculateTotal()">
                    <option data-price="80" value="Basic Wellness Check-Up (RM 80)">Basic Wellness Check-Up (RM 80)</option>
                    <option data-price="280" value="Family Care Bundle (RM 280)">Family Care Bundle (RM 280)</option>
                    <option data-price="150" value="Postnatal Home Visit (RM 150)">Postnatal Home Visit (RM 150)</option>
                    <option data-price="250" value="Modern Laser Circumcision (RM 250)">Laser Circumcision (RM 250-350)</option>
                    <option data-price="150" value="Insulin Refill (RM 150)">Insulin Refill & Delivery (RM 150)</option>
                </select>
            </div>
             <div class="form-group">
                <label>Membership Status (for discount):</label>
                <select id="membershipType" onchange="calculateTotal()">
                    <option value="none">No Membership</option>
                    <option value="silver">Silver Member (5% off)</option>
                    <option value="gold">Gold Member (10% off)</option>
                    <option value="platinum">Platinum Family Pass (15% off)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Appointment Date & Time:</label>
                <input type="datetime-local" id="pDateTime" required>
            </div>
            <div class="form-group">
                <label>Service Address:</label>
                <textarea id="pAddress" rows="3" required placeholder="Full address in Kajang/Selangor"></textarea>
            </div>
            <p style="font-size:1.2rem; font-weight:bold; color:var(--primary);" id="totalDisplay">Estimated Total: RM 80.00</p>
            <button type="submit" class="btn-submit-booking">Submit Booking & Record History</button>
            <button type="button" class="btn-history" onclick="toggleHistory()" id="historyButton">View Booking History</button>
        </form>
    </div>

    <!-- HISTORY SECTION -->
    <div id="historySection">
        <h3>Your Booking History</h3>
        <div id="historyList">
            <!-- History items will be injected here by JavaScript -->
        </div>
    </div>
</section>

<!-- FOOTER SECTION -->
<footer>
    <p>üìç No. 18, Jalan Harmoni 3, Taman Seri Sejahtera, 43000 Kajang, Selangor, Malaysia.</p>
    <p>üåê Website: www.4wheelcare4uclinic.my</p>
    <div class="social-links">
        <a href="#">Facebook: 4WheelCare4U Malaysia</a> | 
        <a href="#">Instagram: @4WheelCare4U</a>
    </div>
    <p style="margin-top:20px; font-size:0.8rem;">&copy; 2026 4WheelCare4U Clinic. All Rights Reserved.</p>
</footer>

<!-- JAVASCRIPT LOGIC -->
<script>
    // 1. Dynamic Price Calculator Logic
    function calculateTotal() {
        const serviceSelect = document.getElementById('pService');
        const servicePrice = parseInt(serviceSelect.options[serviceSelect.selectedIndex].getAttribute('data-price')) || 0;
        const membership = document.getElementById('membershipType').value;
        let discount = 0;

        if (membership === 'silver') discount = 0.05;
        else if (membership === 'gold') discount = 0.10;
        else if (membership === 'platinum') discount = 0.15;

        const finalPrice = servicePrice * (1 - discount);
        document.getElementById('totalDisplay').innerText = `Estimated Total: RM ${finalPrice.toFixed(2)}`;
    }

    // 2. Form Submission & History Saving Logic
    document.getElementById('bookingFormLocal').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Data collection
        const name = document.getElementById('pName').value;
        const service = document.getElementById('pService').value;
        const datetime = document.getElementById('pDateTime').value;
        const address = document.getElementById('pAddress').value;
        const total = document.getElementById('totalDisplay').innerText;
        
        // Save to History (Local Storage)
        saveToHistory({ name, service, datetime, address, total, dateSubmitted: new Date().toLocaleString() });

        // Provide immediate feedback to the user and reset form
        alert("Booking submitted and recorded in your local history!");
        this.reset();
        calculateTotal(); // Reset total display

        // Refresh history display and show the button/section
        loadHistory(); 
        document.getElementById('historyButton').style.display = 'block';
        document.getElementById('historySection').style.display = 'block';
    });

    // 3. History Management Functions
    function getHistory() {
        return JSON.parse(localStorage.getItem('4WheelCare4U_history')) || [];
    }

    function saveToHistory(bookingData) {
        const history = getHistory();
        history.push(bookingData);
        localStorage.setItem('4WheelCare4U_history', JSON.stringify(history));
    }

    function loadHistory() {
        const history = getHistory();
        const historyList = document.getElementById('historyList');
        historyList.innerHTML = ''; // Clear existing list

        if (history.length === 0) {
            historyList.innerHTML = '<p>No past booking history found in this browser.</p>';
            return;
        }

        // Display history in reverse chronological order (newest first)
        history.reverse().forEach(item => {
            const div = document.createElement('div');
            div.classList.add('history-item');
            div.innerHTML = `
                <strong>${item.service}</strong> (${item.total})
                <br>Name: ${item.name}
                <br>Date: ${item.datetime ? new Date(item.datetime).toLocaleString() : 'N/A'}
                <br><small><i>Submitted on: ${item.dateSubmitted}</i></small>
            `;
            historyList.appendChild(div);
        });
    }

    function toggleHistory() {
        const historySection = document.getElementById('historySection');
        if (historySection.style.display === 'none' || historySection.style.display === '') {
            historySection.style.display = 'block';
            document.getElementById('historyButton').innerText = 'Hide Booking History';
            loadHistory();
        } else {
            historySection.style.display = 'none';
            document.getElementById('historyButton').innerText = 'View Booking History';
        }
    }

    // Initialize display on page load
    document.addEventListener('DOMContentLoaded', () => {
        calculateTotal();
        if (getHistory().length > 0) {
            document.getElementById('historyButton').style.display = 'block';
        }
    });
</script>

</body>
</html>
